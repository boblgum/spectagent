# ── User-defined secrets ──────────────────────────────────────────────
# Copy this file:
#   cp docker-compose.secrets.yml.example docker-compose.secrets.yml
#
# Then uncomment / add only the secrets you actually need.
# Each secret points to a plain-text file under secrets/ (one key per file).
# The entrypoint automatically exports every mounted secret as an
# upper-cased environment variable  (e.g.  anthropic_api_key → ANTHROPIC_API_KEY).
#
# To add a new secret:
#   1. Create  secrets/<name>.txt  with the key value (chmod 600).
#   2. Add a top-level entry under  secrets:  below.
#   3. Reference it under  services.opencode.secrets:

services:
  opencode:
    secrets:
      - anthropic_api_key
      - openai_api_key
      # - opencode_api_key
      # - gemini_api_key
      # - mistral_api_key

secrets:
  anthropic_api_key:
    file: ./secrets/anthropic_api_key.txt
  openai_api_key:
    file: ./secrets/openai_api_key.txt
  # opencode_api_key:
  #   file: ./secrets/opencode_api_key.txt
  # gemini_api_key:
  #   file: ./secrets/gemini_api_key.txt
  # mistral_api_key:
  #   file: ./secrets/mistral_api_key.txt

